<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Création Troc</title>
    <link rel="stylesheet" type="text/css" href="./static/css/createtroc.css" />

</head>
<body>

<a href="/" class="button">Retour à l'Accueil</a>
<a href="/index" class="button">Listes des Trocs</a>

    <h1>Créer un Troc</h1>
    <form action="/create" method="post">
        <label for="id_troqueur">Troqueur ID:</label>
        <input type="text" id="id_troqueur" name="id_troqueur" required placeholder="Entrer l'identifiant du troqueur">

        <label for="id_destinataire">Destinataire ID:</label>
        <input type="text" id="id_destinataire" name="id_destinataire" required placeholder="Entrer l'identifiant du destinataire">

        <label for="date_fichier">Date du fichier:</label>
        <input type="text" id="date_fichier" name="date_fichier" required placeholder="Entrer la date du fichier (jj-mm-aaaa)">

        <h2>Messages</h2>

        <label for="date_message">Date du message:</label>
        <input type="text" id="date_message" name="date_message" required placeholder="Entrer la date du message (jj-mm-aaaa)">

        <label for="statut">Statut du message:</label>
        <select id="statut" name="statut" required>
            <option value="propose">Proposé</option>
        </select>

        <h3>Objets à échanger</h3>

        <div id="objets">
            <div class="objet">
                <label for="titre">Titre de l'objet:</label>
                <input type="text" name="titre" required placeholder="Entrer le titre de l'objet">

                <label for="description">Description de l'objet:</label>
                <input type="text" name="description" required placeholder="Entrer la description de l'objet">

                <label for="qualite">Qualité de l'objet (0-5):</label>
                <input type="number" name="qualite" min="0" max="5" required placeholder="Entrer la qualité de l'objet">

                <label for="quantite">Quantité:</label>
                <input type="number" name="quantite" min="1" required placeholder="Entrer la quantité">
            </div>
        </div>

        <button type="button" onclick="ajouterObjet()">Ajouter un objet</button><br><br>

        <input type="submit" value="Générer Troc">
    </form>

    <script>
        function ajouterObjet() {
            const objetsDiv = document.getElementById('objets');
            const newObjetDiv = document.createElement('div');
            newObjetDiv.classList.add('objet');

            newObjetDiv.innerHTML = `
                <label for="titre">Titre de l'objet:</label>
                <input type="text" name="titre" required placeholder="Entrer le titre de l'objet">

                <label for="description">Description de l'objet:</label>
                <input type="text" name="description" required placeholder="Entrer la description de l'objet">

                <label for="qualite">Qualité de l'objet (0-5):</label>
                <input type="number" name="qualite" min="0" max="5" required placeholder="Entrer la qualité de l'objet">

                <label for="quantite">Quantité:</label>
                <input type="number" name="quantite" min="1" required placeholder="Entrer la quantité">
            `;
            objetsDiv.appendChild(newObjetDiv);
        }
    </script>
</body>
</html>
